
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Code Signing Â· electron-builder</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.6">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-advanced-emoji/emoji-website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="publishing-artifacts" />
    
    
    <link rel="prev" href="auto-update" />
    

    <style>
    @media only screen and (max-width: 640px) {
        .book-header .hidden-mobile {
            display: none;
        }
    }
    </style>
    <script>
        window["gitbook-plugin-github-buttons"] = {"repo":"electron-userland/electron-builder","types":["star"],"size":"small"};
    </script>

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="configuration/configuration">
            
                <a href="configuration/configuration">
            
                    
                    Configuration
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="configuration/contents">
            
                <a href="configuration/contents">
            
                    
                    Application Contents
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="file-patterns">
            
                <a href="file-patterns">
            
                    
                    File Patterns
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="configuration/mac">
            
                <a href="configuration/mac">
            
                    
                    macOS
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.3.1" data-path="configuration/dmg">
            
                <a href="configuration/dmg">
            
                    
                    DMG
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.2" data-path="configuration/mas">
            
                <a href="configuration/mas">
            
                    
                    MAS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.3" data-path="configuration/pkg">
            
                <a href="configuration/pkg">
            
                    
                    PKG
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="configuration/win">
            
                <a href="configuration/win">
            
                    
                    Windows
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.4.1" data-path="configuration/nsis">
            
                <a href="configuration/nsis">
            
                    
                    NSIS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4.2" data-path="configuration/appx">
            
                <a href="configuration/appx">
            
                    
                    AppX
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4.3" data-path="configuration/squirrel-windows">
            
                <a href="configuration/squirrel-windows">
            
                    
                    Squirrel.Windows
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="configuration/linux">
            
                <a href="configuration/linux">
            
                    
                    Linux
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.5.1" data-path="configuration/deb">
            
                <a href="configuration/deb">
            
                    
                    Debian Package
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5.2" data-path="configuration/snap">
            
                <a href="configuration/snap">
            
                    
                    Snap
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5.3" data-path="configuration/linux-other">
            
                <a href="configuration/linux-other">
            
                    
                    Other
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="configuration/target">
            
                <a href="configuration/target">
            
                    
                    Target
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7" data-path="configuration/publish">
            
                <a href="configuration/publish">
            
                    
                    Publish
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="cli">
            
                <a href="cli">
            
                    
                    Command Line Interface (CLI)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="docker">
            
                <a href="docker">
            
                    
                    Docker
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" >
            
                <span>
            
                    
                    Guides
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="icons">
            
                <a href="icons">
            
                    
                    Icons
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="auto-update">
            
                <a href="auto-update">
            
                    
                    Auto Update
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.5.3" data-path="code-signing">
            
                <a href="code-signing">
            
                    
                    Code Signing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="publishing-artifacts">
            
                <a href="publishing-artifacts">
            
                    
                    Publishing Artifacts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="multi-platform-build">
            
                <a href="multi-platform-build">
            
                    
                    Multi Platform Build
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" >
            
                <span>
            
                    
                    Tutorials
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="tutorials/loading-app-dependencies-manually">
            
                <a href="tutorials/loading-app-dependencies-manually">
            
                    
                    Loading App Dependencies Manually
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="tutorials/two-package-structure">
            
                <a href="tutorials/two-package-structure">
            
                    
                    Two package.json Structure
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="tutorials/macos-kernel-extensions">
            
                <a href="tutorials/macos-kernel-extensions">
            
                    
                    macOS Kernel Extensions
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" >
            
                <span>
            
                    
                    Programmatic API
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="api/electron-builder">
            
                <a href="api/electron-builder">
            
                    
                    electron-builder
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="donate">
            
                <a href="donate">
            
                    
                    Donate
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >Code Signing</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <p>macOS and Windows code signing is supported. Windows is dual code-signed (SHA1 &amp; SHA256 hashing algorithms).</p>
<p>On a macOS development machine valid and appropriate identity from your keychain will be automatically used.</p>
<table>
<thead>
<tr>
<th>Env Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>CSC_LINK</code></td>
<td>The HTTPS link (or base64-encoded data, or <code>file://</code> link, or local path) to certificate (<code>*.p12</code> or <code>*.pfx</code> file). Shorthand <code>~/</code> is supported (home directory).</td>
</tr>
<tr>
<td><code>CSC_KEY_PASSWORD</code></td>
<td>The password to decrypt the certificate given in <code>CSC_LINK</code>.</td>
</tr>
<tr>
<td><code>CSC_NAME</code></td>
<td><em>macOS-only</em> Name of certificate (to retrieve from login.keychain). Useful on a development machine (not on CI) if you have several identities (otherwise don&apos;t specify it).</td>
</tr>
<tr>
<td><code>CSC_IDENTITY_AUTO_DISCOVERY</code></td>
<td><code>true</code> or <code>false</code>. Defaults to <code>true</code> &#x2014; on a macOS development machine valid and appropriate identity from your keychain will be automatically used.</td>
</tr>
</tbody>
</table>
<p>If you are building Windows on macOS and need to set a different certificate and password (than the ones set in <code>CSC_*</code> env vars) you can use <code>WIN_CSC_LINK</code> and <code>WIN_CSC_KEY_PASSWORD</code>.</p>
<h2 id="windows">Windows</h2>
<p>To sign an app on Windows, there are two types of certificates:</p>
<ul>
<li>EV Code Signing Certificate</li>
<li>Code Signing Certificate</li>
</ul>
<p>Both certificates work with auto-update. The regular (and often cheaper) Code Signing Certificate shows a warning during installation that goes away once enough users installed your application and you&apos;ve built up trust. The EV Certificate has more trust and thus works immediately without any warnings. However, it is not possible to export the EV Certificate as it is bound to a physical USB dongle. Thus, you can&apos;t export the certificate for signing code on a CI, such as appveyor. If you are using an EV Certificate, you need to provide <a href="configuration/win#WindowsConfiguration-certificateSubjectName">win.certificateSubjectName</a> in your electron-builder configuration.</p>
<h2 id="travis-appveyor-and-other-ci-servers">Travis, AppVeyor and other CI Servers</h2>
<p>To sign app on build server you need to set <code>CSC_LINK</code>, <code>CSC_KEY_PASSWORD</code>:</p>
<ol>
<li><a href="https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/MaintainingCertificates/MaintainingCertificates.html#//apple_ref/doc/uid/TP40012582-CH31-SW7" target="_blank">Export</a> certificate.
Consider to not use special characters (for bash) in the password because &#x201C;<em>values are not escaped when your builds are executed</em>&#x201D;.</li>
<li><p>Encode file to base64 (macOS: <code>base64 -i yourFile.p12 -o envValue.txt</code>, Linux: <code>base64 yourFile.p12 &gt; envValue.txt</code>).</p>
<p>Or upload <code>*.p12</code> file (e.g. on Google Drive, use <a href="http://www.syncwithtech.org/p/direct-download-link-generator.html" target="_blank">direct link generator</a> to get correct download link).</p>
</li>
<li><p>Set <code>CSC_LINK</code> and <code>CSC_KEY_PASSWORD</code> environment variables. See <a href="https://docs.travis-ci.com/user/environment-variables/#Defining-Variables-in-Repository-Settings" target="_blank">Travis</a> or <a href="https://www.appveyor.com/docs/build-configuration#environment-variables" target="_blank">AppVeyor</a> documentation.
Recommended to set it in the CI Project Settings, not in the <code>.travis.yml</code>/<code>appveyor.yml</code>. If you use link to file (not base64 encoded data), make sure to escape special characters (for bash) accordingly.</p>
<p>In case of AppVeyor, don&apos;t forget to click on lock icon to &#x201C;Toggle variable encryption&#x201D;.</p>
<p>Keep in mind that Windows is not able to handle enviroment variable values longer than 8192 characters, thus if the base64 representation of your certificate exceeds that limit, try re-exporting the certificate without including all the certificates in the certification path (they are not necessary, but the Certificate Manager export wizard ticks the option by default), otherwise the encoded value will be truncated.</p>
</li>
</ol>
<h1 id="where-to-buy-code-signing-certificate">Where to Buy Code Signing Certificate</h1>
<p>See <a href="https://msdn.microsoft.com/windows/hardware/drivers/dashboard/get-a-code-signing-certificate" target="_blank">Get a code signing certificate</a> for Windows.
Please note &#x2014; Gatekeeper only recognises <a href="http://stackoverflow.com/questions/11833481/non-apple-issued-code-signing-certificate-can-it-work-with-mac-os-10-8-gatekeep" target="_blank">Apple digital certificates</a>.</p>
<h1 id="how-to-export-certificate-on-macos">How to Export Certificate on macOS</h1>
<ol>
<li>Open Keychain.</li>
<li>Select <code>login</code> keychain, and <code>My Certificates</code> category.</li>
<li><p>Select all required certificates (hint: use cmd-click to select several):</p>
<ul>
<li><code>Developer ID Application:</code> to sign app for macOS.</li>
<li><code>3rd Party Mac Developer Application:</code> and <code>3rd Party Mac Developer Installer:</code> to sign app for MAS (Mac App Store).</li>
<li><code>Developer ID Application:</code> and <code>Developer ID Installer</code> to sign app and installer for distribution outside of the Mac App Store.</li>
</ul>
<p>Please note &#x2013; you can select as many certificates, as need. No restrictions on electron-builder side.
All selected certificates will be imported into temporary keychain on CI server.</p>
</li>
<li>Open context menu and <code>Export</code>.</li>
</ol>
<script src="_gitbook_plugin_analytics.js"></script>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="auto-update" class="navigation navigation-prev " aria-label="Previous page: Auto Update">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="publishing-artifacts" class="navigation navigation-next " aria-label="Next page: Publishing Artifacts">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Code Signing","level":"1.5.3","depth":2,"next":{"title":"Publishing Artifacts","level":"1.5.4","depth":2,"path":"publishing-artifacts.md","ref":"publishing-artifacts.md","articles":[]},"previous":{"title":"Auto Update","level":"1.5.2","depth":2,"path":"auto-update.md","ref":"auto-update.md","articles":[]},"dir":"ltr"},"config":{"plugins":["edit-link","github","github-buttons","develar-toolbar-buttons","analytics","advanced-emoji"],"root":"./docs","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"github":{"url":"https://github.com/electron-userland/electron-builder"},"analytics":{"context":[{"token":"UA-105592680-1","base":["https"]}]},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"develar-toolbar-buttons":{},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"github-buttons":{"repo":"electron-userland/electron-builder","types":["star"],"size":"small"},"advanced-emoji":{"embedEmojis":false},"sharing":{"facebook":false,"twitter":false,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"edit-link":{"label":"Edit This Page","base":"https://github.com/electron-userland/electron-builder/tree/master/docs"},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"readme.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"electron-builder","links":{"sharing":{"facebook":false,"twitter":false}},"gitbook":"*"},"file":{"path":"code-signing.md","mtime":"2017-09-06T13:45:44.000Z","type":"markdown"},"gitbook":{"version":"3.2.6","time":"2017-09-10T07:58:32.861Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-edit-link/plugin.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-github-buttons/plugin.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-develar-toolbar-buttons/plugin.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

